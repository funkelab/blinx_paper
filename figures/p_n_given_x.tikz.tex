\@ifundefined{noylabels}{%
  \def\scaleonlyaxis{false}%
}{%
  \pgfplotsset{yticklabel=\empty}%
  \def\scaleonlyaxis{true}%
}%
\@ifundefined{noxlabel}{%
  \pgfplotsset{xlabel=$n$}%
}{%
  \pgfplotsset{xlabel=\empty}%
}%
\begin{tikzpicture}%

  \def\eps{0.001}

  \begin{axis}[
    width=\textwidth,
    height=\textwidth,
    scale only axis=\scaleonlyaxis,
    grid=major,
    grid style={dashed, very thin},
    enlarge x limits=0.4,
    enlarge y limits=0,
    ymin=0,
    ymax=1,
    scaled ticks=false,
    ticklabel style={font=\tiny},
    axis background/.style={fill=white},
  ]

    \addplot+[
      ybar,
      bar width=1,
      mark=none,
      fill=posteriorcolor,
      fill opacity=0.6,
      draw=posteriorcolor,
      y filter/.expression={
        y < \eps ? nan : y
      },
    ] table [
      col sep=comma,
      y=\posteriorcol,
      x=n,
    ] {\posteriorcsv};

    \ifdefined\posteriorcolextra
      \addplot+[
        ybar,
        bar width=1,
        mark=none,
        fill=posteriorcolor!60!black,
        fill opacity=0.6,
        draw=posteriorcolor,
        y filter/.expression={
          y < \eps ? nan : y
        },
      ] table [
        col sep=comma,
        y=\posteriorcolextra,
        x=n,
      ] {\posteriorcsv};
    \fi

  \end{axis}

\end{tikzpicture}%
